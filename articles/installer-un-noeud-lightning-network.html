<!DOCTYPE HTML><html lang="fr" prefix="og: http://ogp.me/ns#"><head><title>Installer un nÅ“ud Lightning Network</title><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#0070FC"/><meta name="author" content="Jonathan Serra"/><meta property="og:url" content="https://blocs.fr"/><meta property="og:title" content="Installer un nÅ“ud Lightning Network"/><meta property="og:description" content="Envoyer des microtransactions bitcoin n&#x27;Ã©tait pas possible jusqu&#x27;Ã  l&#x27;arrivÃ©e de la technologie Lightning Network. C&#x27;est un systÃ¨me qui permet de faire des transactions quasi-instantannÃ©es et avec peu de frais."/><meta name="description" content="Envoyer des microtransactions bitcoin n&#x27;Ã©tait pas possible jusqu&#x27;Ã  l&#x27;arrivÃ©e de la technologie Lightning Network. C&#x27;est un systÃ¨me qui permet de faire des transactions quasi-instantannÃ©es et avec peu de frais."/><meta property="og:image" content="/res/7a9a4a84.jpg"/><meta property="og:image:alt" content="Installer un noeud Bitcoin-Comment fonctionne bitcoin-Installer Bitcoin"/><meta property="og:type" content="blog"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@_blocs"/><meta name="twitter:creator" content="@_blocs"/><meta property="article:author" content="Jonathan Serra"/><script defer="">const storageKey="blocs-data-theme";document.addEventListener("DOMContentLoaded",(function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;let t=window.localStorage.getItem(storageKey);t||(t=e?"dark":"light");const a=document.querySelector("#theme-switch");a&&(activateTheme(t,a),a.addEventListener("click",(()=>{switch(t){case"dark":t="light";break;default:t="dark"}window.localStorage.setItem(storageKey,t),activateTheme(t,a)})))}));const activateTheme=(e,t)=>{const a=t.childNodes[0],c=t.childNodes[1];switch(e){case"light":c.style.display="block",a.style.display="none";break;case"dark":default:c.style.display="none",a.style.display="block"}document.documentElement.setAttribute("data-theme",e)};</script><script src="/res/1699ad49.js" defer=""></script><style>@keyframes ripple{to{transform:scale(4);opacity:0}}@font-face{font-family:Inter;font-weight:100 900;font-display:swap;font-style:normal;font-named-instance:"Regular";src:url(/res/541fae2e.woff2);font-display:fallback}@font-face{font-family:Inter;font-weight:100 900;font-display:swap;font-style:italic;font-named-instance:"Regular";src:url(/res/1517082.woff2);font-display:fallback}@font-face{font-family:'icons';font-display:swap;src:url(/res/31819284.woff2);font-weight:400;font-style:normal;font-display:fallback}.a:before,[class*=" icon-"]:before,[class^=icon-]:before{font-family:"icons";font-style:normal;font-weight:400;speak:never;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*,::after,::before{box-sizing:border-box}*{font-weight:var(--b)}@supports (font-variation-settings:"wght" 400){*{font-weight:inherit;font-variation-settings:"wght" var(--b)}}:root{--a:#0070FC;--c:#FBE016;--d:#9e9e9e;--e:white;--f:black;--g:#000F26;--h:#eee;--i:12px;--j:12px}::selection{background-color:var(--a);color:#fff}[data-theme=light]{--e:#111;--c:#E32B89;--d:#667;--f:#fafafa;--g:#fcfcfe;--h:#333}body{margin:var(--i) var(--j) 64px;font:18px/26px Inter,system-ui,-apple-system,sans-serif;color:var(--e);background:var(--g);line-height:28px;max-width:100%;overflow-x:hidden}a{text-decoration:none;color:var(--a)}.x .z>div a:hover,a:active,a:hover{text-decoration:underline}.b a span{font-size:26px}.c{float:left;margin-left:-24px}a:active,a:focus,a:hover{text-decoration:underline}.d{display:flex;padding-top:12px;margin:-12px calc(-1*var(--j)) 48px;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch}.d::after,.d::before{display:block;content:"";padding-right:var(--j)}.e,.f{flex:none;--b:700}.e{display:block;font-size:24px;line-height:18px;letter-spacing:-1px;text-transform:lowercase;border-top:4px solid;padding:6px 4px 0 0}a.e{color:currentColor;text-decoration:none}.f{margin:0 0 0 24px;font-size:6px;line-height:10px;letter-spacing:1px;text-transform:uppercase;width:0}.g{margin-left:auto}.h{flex:none;display:block;margin:10px 24px 0 0;font-size:14px;color:var(--e);--b:600;line-height:18px}.h:last-child{margin-right:0}a.i,a.i.j{color:var(--e)}a.i{display:block;cursor:pointer;font-size:16px;min-width:125px;margin:0 auto;padding:13px;text-decoration:none;border:1px solid var(--e);border-radius:6px;background-color:transparent;outline:0;height:44px;max-height:44px;min-height:44px;line-height:14px;transform:translate(0,0);transition:all;transition-duration:123ms}a.i.j{background-color:var(--a);border-color:var(--a)}#isso-thread input[type=button]:hover,#isso-thread input[type=submit]:hover,a.i:hover{transform:translate(-2px,-2px);box-shadow:2px 2px 1px var(--h)}#isso-thread input[type=button]:active,#isso-thread input[type=submit]:active,a.i:active{transform:translate(0,0);box-shadow:inset 0 0 7px var(--h)}.k>span{position:absolute;border-radius:50%;transform:scale(0);animation:ripple 400ms linear;background-color:rgba(255,255,255,.5)}@media (min-width:768px){:root{--j:64px}}@media (min-width:1024px){:root{--j:128px}}.l:before{content:'\f16d'}.m:before{content:'\f300'}.o:before{content:'\f167'}.n:before{content:'\f30c'}.p:before{content:'\f2c6'}.q:before{content:'\E800'}.r:before{content:'\F186'}:root{--j:max(12px, (100vw - var(--k)) / 2);--k:800px}h1{margin:48px 0 32px;font-size:36px;line-height:48px;letter-spacing:-.8px}h2,h3{margin:42px 0 18px}h1,h2{font-weight:700}h2{font-size:26px;line-height:34px;letter-spacing:-.3px}h3{font-size:22px;line-height:30px;letter-spacing:-.18px}p{margin:18px 0}p>code{word-break:break-all}blockquote code,em>code{font-style:normal}.s a,h3,strong{font-weight:600}ul.s{margin:24px 0;padding-left:32px;margin-left:calc(-32*min(max(var(--j) - 32px,0px),1px))}.s a{color:var(--e)}.s li{overflow:hidden;display:flex;flex-direction:row;position:relative;list-style:none;margin:2px 0 30px;border-radius:8px}.s picture{margin-top:5px;margin-right:20px}.s picture *{border-radius:5px}#isso-thread #isso-root .P,.t,.x .z>div{margin:0}.u{font-size:16px;margin:5px 0}i{font-size:14px}blockquote{line-height:32px;font-weight:300;font-style:italic;color:var(--d)}table{margin:24px;border-collapse:separate;border-spacing:12px 0}thead th{border-bottom:var(--l) solid;--b:600;text-align:left}code,pre code{background-color:var(--f)}code{font-size:.9em;font-family:monospace;padding:1px 5px;border:1px dotted var(--c);border-radius:4px}pre code{display:block;width:100vw;margin:48px calc(-1*var(--j));padding:18px var(--j);border-width:0;border-radius:0;overflow-x:scroll}video{display:block;max-width:100%;margin:32px auto}iframe{width:calc(var(--m)*1);height:calc(var(--m)*.66);border:1px solid rgba(0,0,0,.1);--m:calc(100vw - 2 * var(--j))}.v{color:#9e9e9e}.w{cursor:pointer}.x{display:flex;flex-wrap:wrap-reverse}.x .y>p{padding-top:0;margin-top:0}.x .z .A{margin-bottom:7px}.x .y{flex:1;margin-right:15px;width:400px}.x .z{padding:17px;background-color:var(--f);border-radius:4px;border-width:1px;border-color:var(--e);border-style:solid;overflow:hidden;max-width:350px}.x .z h2{margin:0 0 10px}.x .z>div div{margin-left:20px}.x .z>div a{display:block;text-decoration:none}.B{box-shadow:7px 10px 15px rgba(10,10,10,.2)}.B .C{height:10px;width:10px;border-radius:50%;border:1px solid #000;position:relative;top:6px;left:6px;background-color:#ff3b47;border-color:#9d252b;display:inline-block;vertical-align:top}.C.D{left:11px;background-color:#ffc100;border-color:#9d802c}.C.E{left:16px;background-color:#00d742;border-color:#049931}.B .F{position:relative;width:100%;height:25px;background-color:#bbb;margin:0 auto;border-top-right-radius:5px;border-top-left-radius:5px}.B .G,.B .H{display:inline-block}.B .G{position:absolute}.B .H{color:#333;width:100%;padding:0;margin:0;text-align:center;font-size:12px;font-weight:700;vertical-align:top;line-height:25px}.B .I{background-color:#000;color:#fff;box-sizing:border-box;width:100%;margin:0 auto;padding:20px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;font-size:16px}.B .J{font-family:monospace!important;padding:0;margin:0}.B .K{color:var(--c);font-weight:700;margin-right:7px}.B .L{background-color:#fff}.B i{color:#666}#isso-thread h4{display:none}#isso-thread input[type=button],#isso-thread input[type=submit]{cursor:pointer;font-size:16px;width:125px;margin:0 auto;color:var(--e);padding:13px;text-decoration:none;border:1px solid #fff;border-radius:6px;background-color:transparent;outline:0;height:44px;max-height:44px;min-height:44px;line-height:14px;transform:translate(0,0);transition:all;transition-duration:123ms}#isso-thread input[type=submit]{background-color:var(--a);border-color:var(--a);color:#fff}#isso-thread input[type=checkbox]{margin-right:6px}#isso-thread>div>div>div>div,.B .L{color:#000}#isso-thread label{color:#fff}#isso-thread h1,#isso-thread h2,#isso-thread h3,#isso-thread h4,#isso-thread h5,#isso-thread h6{margin:0;line-height:1em}#isso-thread h1{font-size:2em}#isso-thread h2{font-size:1.6}#isso-thread h3{font-size:1.2}#isso-thread #isso-root b,#isso-thread #isso-root h1,#isso-thread #isso-root h2,#isso-thread #isso-root h3,#isso-thread #isso-root i,#isso-thread #isso-root p,#isso-thread #isso-root strong,#isso-thread code,#isso-thread section label,.x .z h2{color:var(--e)}#isso-thread input[type=email],#isso-thread input[type=text]{margin-bottom:15px;padding:10px 0 10px 10px;background-color:transparent;border:0;border-bottom:1px solid var(--e);border-radius:0;outline-color:var(--h);color:var(--e);margin-right:10px}#isso-thread .M::placeholder,#isso-thread input[type=email]::placeholder,#isso-thread input[type=text]::placeholder{color:var(--d)}#isso-thread .M::active,#isso-thread .M:focus,#isso-thread input[type=email]:active,#isso-thread input[type=email]:focus,#isso-thread input[type=text]:active,#isso-thread input[type=text]:focus{border-color:var(--a)!important}#isso-thread input[name=website]{display:none}#isso-thread .N{margin-top:30px}#isso-thread .N>.O{padding-right:15px}#isso-thread preview{background:0 0;border:0;box-shadow:none}#isso-thread>div:first-of-type>div:first-of-type>div:first-of-type>div:first-of-type{min-height:100px!important;font-size:14px}#isso-thread>div:first-of-type>div:first-of-type>div:first-of-type>div:first-of-type>div:first-of-type{max-height:1.5em}#isso-thread #isso-root .Q{color:#fff!important}.R h2{margin-bottom:0;padding-bottom:0}.R p{margin-top:0}.R i{font-size:14px}@media (min-width:768px){a,p>code{word-break:initial}}@media (max-width:484px){.s li{flex-direction:column}.s li img{width:100%}.s{padding:0 15px!important}.s picture{margin-bottom:10px;margin-right:0}.c{margin-left:0;margin-right:8px}}.V,.W{color:#a0a1a7;font-style:italic}.X,.Y,.Z{color:#a626a4}.-a,.-b,.-c,.-d,._{color:#e45649}.-e{color:#0184bb}.-f,.-g,.-h,.-i,.-j{color:#50a14f}.-k,.-l .-m{color:#c18401}.-n,.-o,.-p,.-q,.-r,.-s,.-t,.-u{color:#986801}.-m,.-v,.-w,.-x,.-y,.-z{color:#4078f2}.-A{font-style:italic}.-B{font-weight:700}.-x{text-decoration:underline}@media (prefers-color-scheme:dark){.V,.W{color:#5c6370;font-style:italic}.X,.Y,.Z{color:#c678dd}.-a,.-b,.-c,.-d,._{color:#e06c75}.-e{color:#56b6c2}.-f,.-g,.-h,.-i,.-j{color:#98c379}.-k,.-l .-m{color:#e6c07b}.-n,.-o,.-p,.-q,.-r,.-s,.-t,.-u{color:#d19a66}.-m,.-v,.-w,.-x,.-y,.-z{color:#61aeee}.-A{font-style:italic}.-B{font-weight:700}.-x{text-decoration:underline}}.-C{padding:0 8px;vertical-align:top;cursor:pointer;color:var(--a)}.-C:hover{text-decoration:underline}.-D{position:absolute;opacity:0;color:#fff;font-weight:700;background-color:var(--a);padding:5px 10px;margin-left:10px;border-radius:6px;font-size:14px;transition:123ms}</style><script defer="">document.documentElement.style.setProperty("--l",1/(window.devicePixelRatio||1)+"px");</script></head><body><div class="d"><a href="/" class="e">Blocs<br/>.fr</a><div class="f">Site</div><a href="/" class="h" title="AccÃ©der Ã  Home">Home</a><div class="f g">Cool</div><a href="/blog" class="h" title="AccÃ©der Ã  Blog">Blog</a><a href="#" class="h" id="theme-switch" title="Changer la couleur du fond"><span class="a q"></span><span class="a r"></span></a></div><div class="x"><div class="y"><p>Avoir son propre nÅ“ud Lightning Network (LN) permet d&#x27;avoir un grand contrÃ´le sur les transactions au sein du rÃ©seau. Lorsque vous voulez effectuer une transaction LN vous avez deux choix :</p><p>- DÃ©pendre d&#x27;un nÅ“ud de tiers et dÃ©pendre de ses canaux de paiement ;</p><p>- Avoir son nÅ“ud et gÃ©rer ses propres canaux avec d&#x27;autres nÅ“uds ;</p><p>Il va sans dire que la deuxiÃ¨me solution offre plus de possibilitÃ©s, alors nous allons voir dans cet article comment mettre en place tout cela.</p><p>Avoir un noeud Lightning Network signifie que vous Ãªtes un relayeur de transactions. Vous rendez service et la bonne nouvelle, c&#x27;est que pour ce service rendu, vous captez des frais sur les transactions circulantes.</p></div><div class="z"><h2>Sommaire</h2><div class="A"><a href="#mat%C3%A9riels-requis">MatÃ©riels requis</a></div><div class="A"><a href="#installer-raspian-stretch-lite">Installer Raspian Stretch Lite</a></div><div class="A"><a href="#configurer-le-raspberry-pi">Configurer le Raspberry Pi</a><div><div class=""><a href="#activer-et-configurer-ssh">Activer et configurer SSH</a></div><div class=""><a href="#cr%C3%A9er-un-utilisateur">CrÃ©er un utilisateur</a></div></div></div><div class="A"><a href="#pr%C3%A9parer-le-disque-dur">PrÃ©parer le disque dur</a><div><div class=""><a href="#formater-optionnel">Formater</a></div><div class=""><a href="#monter-le-disque">Monter le disque</a></div></div></div><div class="A"><a href="#installer-bitcoind-et-bitcoincli">Installer bitcoind et bitcoin-cli</a></div><div class="A"><a href="#d%C3%A9marrer-bitcoind">DÃ©marrer bitcoind</a></div><div class="A"><a href="#installer-lnd-et-lncli">Installer LND et LnCLI</a></div><div class="A"><a href="#d%C3%A9marrer-lnd">DÃ©marrer LND</a></div></div></div><h2 id="mat%C3%A9riels-requis" class="T"><a href="#mat%C3%A9riels-requis" class="c">Â§</a>MatÃ©riels requis</h2><p>Avant tout il va vous falloir du matÃ©riel puisquâ€™un nÅ“ud est un serveur qui fourni un service. Ne vous inquiÃ©tez pas vous nâ€™aurez pas besoin dâ€™un serveur coÃ»teux, bruyant et consommateur. Vous aurez besoin dâ€™un nano-ordinateur, câ€™est petit, câ€™est silencieux et la consommation est basse, voilÃ  la liste :</p><ul><li><strong>Raspberry Pi 3</strong> : <a href="https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/" target="_blank">ce matÃ©riel</a> est peu coÃ»teux et a les capacitÃ©s optimales pour avoir un nÅ“ud LN efficace. Veillez Ã  acquÃ©rir un pack contenant le Raspberry Pi, lâ€™alimentation secteur et une carte SSD. Ces Ã©lÃ©ments sont compris dans le pack officiel ;</li><li><strong>Un disque dur SSD de 500go ou plus</strong> : vous devrez tÃ©lÃ©charger la blockchain de Bitcoin qui fait plus de 200 giga octects. Je recommande un disque dur SSD (Ã©lectronique) Ã  prÃ©fÃ©rer au disque dur mÃ©canique qui a une moins bonne tolÃ©rance Ã  la panne. Jâ€™ai personnellement un disque dur mÃ©canique ;</li><li><strong>Un Ã©cran port HDMI</strong> : ce sera nÃ©cessaire pour faire les premiÃ¨res configurations ;</li><li><strong>Un clavier USB</strong> : ce sera Ã©galement nÃ©cessaire pour faire les premiÃ¨res configurations ;</li><li><strong>Un cÃ¢ble RJ45</strong> : ce sera pour connecter votre Raspberry Pi Ã  Internet. Il est possible dâ€™avoir une connexion wifi en y connectant une antenne ou un dongle. Cependant je dÃ©conseille cette approche pour des raisons de sÃ©curitÃ© et Ã©galement pour Ã©viter les contraintes dâ€™installation de drivers pas toujours disponibles sur les distributions Linux ;</li></ul><h2 id="installer-raspian-stretch-lite" class="T"><a href="#installer-raspian-stretch-lite" class="c">Â§</a>Installer Raspian Stretch Lite</h2><p><em>Cette Ã©tape est optionnelle mais recommandÃ©e.</em></p><p>Avant dâ€™entamer la configuration de votre Raspberry installez un nouveau systÃ¨me dâ€™exploitation plus lÃ©ger que celui installÃ© par dÃ©faut : câ€™est <a href="https://www.raspberrypi.org/downloads/raspbian/" target="_blank">Raspian Stretch Lite</a>.</p><blockquote><p>Stretch Lite est un systÃ¨me dâ€™exploitation dans le but dâ€™optimiser la consommation de ressources sur notre systÃ¨me.</p></blockquote><p>Installez Raspian Stretch Lite sur la carte SD fournie avec le Raspberry Pi. Il vous faudra la formater. Avec Windows le logiciel <a href="https://www.balena.io/etcher/" target="_blank">Etcher</a> est dâ€™une grande aide. Sur <a href="https://computers.tutsplus.com/articles/how-to-flash-an-sd-card-for-raspberry-pi--mac-53600" class="-F" target="_blank">Mac</a> et <a href="https://www.raspberrypi.org/documentation/installation/installing-images/linux.md" class="-F" target="_blank">distributions Linux</a> prÃ©fÃ©rez la ligne de commande.</p><h2 id="configurer-le-raspberry-pi" class="T"><a href="#configurer-le-raspberry-pi" class="c">Â§</a>Configurer le Raspberry Pi</h2><p>Ici je vais considÃ©rer que vous Ãªtes sur Raspian Stretch Lite, mais pas dâ€™inquiÃ©tude vous pouvez tout suivre avec le systÃ¨me dâ€™origine, veillez Ã  ouvrir le terminal car nous allons travailler en ligne de commande, rien de mieux pour se familiariser avec lâ€™environnement Linux.</p><p>Les accÃ¨s par dÃ©faut sont les suivants</p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">Connexion</p></div><div class="I"><div class="J"><span class="K">raspberry login: </span><span class="-C cliboard-action-selector" data-value="gvdcubdg28_0">ğŸ“‹</span><span id="gvdcubdg28_0">pi</span><span id="gvdcubdg28_0_copy-result" class="-D">C&#x27;est copiÃ© !</span></div><div class="J"><span class="K">Password: </span><span class="-C cliboard-action-selector" data-value="gvdcubdg28_1">ğŸ“‹</span><span id="gvdcubdg28_1">raspberry</span><span id="gvdcubdg28_1_copy-result" class="-D">C&#x27;est copiÃ© !</span></div></div></div><blockquote><p>Si vous nâ€™Ãªtes pas habituÃ© au terminal Debian, en tapant votre mot de passe rien ne sâ€™affiche, câ€™est tout Ã  faire normal, ce que vous tapez est quand mÃªme pris en compte. Câ€™est une protection au mÃªme titre que les Ã©toiles quâ€™on voit sur les formulaires web.</p></blockquote><h3 id="activer-et-configurer-ssh" class="T"><a href="#activer-et-configurer-ssh" class="c">Â§</a>Activer et configurer SSH</h3><p>Actuellement vous travaillez avec un Ã©cran et un clavier branchÃ©s sur votre petit Rapsberryâ€¦ Et câ€™est peut-Ãªtre pas pratique. Jâ€™ai une bonne nouvelle, on va pouvoir faire en sorte de gÃ©rer votre systÃ¨me sans avoir besoin dâ€™y accÃ©der physiquement. Vous allez le contrÃ´ler Ã  distance grÃ¢ce au protocole SSH !</p><blockquote><p>SSH signifie Secure Shell, câ€™est un protocole de rÃ©seau ingÃ©nieux qui permet lâ€™exÃ©cution de commandes Ã  distance en bÃ©nÃ©ficiant de canaux cryptÃ©s. Il est possible dâ€™utiliser SSH au sein dâ€™un rÃ©seau local mais aussi en passant par Internet par exemple. Sachez que par dÃ©faut la configuration du SSH dans Raspian permet lâ€™authentification par login et mot de passe.</p></blockquote><p>Par dÃ©faut la connexion SSH est dÃ©sactivÃ©e pour des raisons de sÃ©curitÃ©, alors activez le en tapant ce qui suit</p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">Ouvrir Rasp config</p></div><div class="I"><div class="J"><span class="K">pi@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="gf6up2f913_0">ğŸ“‹</span><span id="gf6up2f913_0">sudo raspi-config</span><span id="gf6up2f913_0_copy-result" class="-D">C&#x27;est copiÃ© !</span></div></div></div><p>Un menu graphique peu charmant sâ€™ouvre, sÃ©lectionnez <code>Interfacing Options (Configure connections to peripherals)</code> puis <code>ssh (Enable or disable ssh server)</code> ensuite sÃ©lectionnez <code>Yes</code>, <code>OK</code> et enfin <code>Finish</code>.</p><p>Revenez sur le terminal et redÃ©marrez le service ssh</p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">Redemarrer SSH</p></div><div class="I"><div class="J"><span class="K">pi@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="g492xwdc5r_0">ğŸ“‹</span><span id="g492xwdc5r_0">sudo systemctl restart ssh</span><span id="g492xwdc5r_0_copy-result" class="-D">C&#x27;est copiÃ© !</span></div></div></div><p>Votre SSH est maintenant activÃ©.</p><p>Ã€ la bonheur, vous pouvez dÃ¨s maintenant vous connecter Ã  votre Raspberry Ã  distance, depuis un autre ordinateur. Dâ€™abord rÃ©cupÃ©rez lâ€™adresse IP de votre Raspberry vous en aurez besoin, utilisez la commande <code>ifconfig</code> pour lâ€™afficher. VoilÃ  un extrait de mon <code>ifconfig</code></p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">Trouver l&#x27;adresse IP</p></div><div class="I"><div class="J"><span class="K">pi@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="g1jktqgkt3_0">ğŸ“‹</span><span id="g1jktqgkt3_0">ifconfig</span><span id="g1jktqgkt3_0_copy-result" class="-D">C&#x27;est copiÃ© !</span><div>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</div><div>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;inet <span class="L">192.168.1.42</span>  netmask 255.255.255.0  broadcast 192.168.1.255</div><div>&nbsp;&nbsp;&nbsp;&nbsp;inet6 fe80::10e0:8a76:4fe4:c3c2  prefixlen 64  scopeid 0x20</div><div>&nbsp;&nbsp;&nbsp;&nbsp;ether b8:27:eb:6a:3a:d9  txqueuelen 1000  (Ethernet)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;RX packets 169483183  bytes 168117311599 (156.5 GiB)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;RX errors 2  dropped 45841  overruns 0  frame 0</div><div>&nbsp;&nbsp;&nbsp;&nbsp;TX packets 132373249  bytes 17426498366 (16.2 GiB)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</div><div></div><div>lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</div><div>&nbsp;&nbsp;&nbsp;&nbsp;inet 127.0.0.1  netmask 255.0.0.0</div><div>&nbsp;&nbsp;&nbsp;&nbsp;inet6 ::1  prefixlen 128  scopeid 0x10</div><div>&nbsp;&nbsp;&nbsp;&nbsp;loop  txqueuelen 1000  (Local Loopback)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;RX packets 39066126  bytes 154986068081 (144.3 GiB)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;RX errors 0  dropped 0  overruns 0  frame 0</div><div>&nbsp;&nbsp;&nbsp;&nbsp;TX packets 39066126  bytes 154986068081 (144.3 GiB)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</div><div></div><div>wlan0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500</div><div>&nbsp;&nbsp;&nbsp;&nbsp;ether b8:27:eb:3f:6f:8c  txqueuelen 1000  (Ethernet)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;RX packets 0  bytes 0 (0.0 B)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;RX errors 0  dropped 0  overruns 0  frame 0</div><div>&nbsp;&nbsp;&nbsp;&nbsp;TX packets 0  bytes 0 (0.0 B)</div><div>&nbsp;&nbsp;&nbsp;&nbsp;TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</div></div></div></div><p>Voyez en surlignÃ© mon adresse IP est <code>192.168.1.42</code> â€” puisque câ€™est la rÃ©ponse Ã  tous les mystÃ¨res de lâ€™univers. Vous la trouverez normalement sur le connecteur <code>eth0</code> et en <code>ipv4</code> qui est le format que jâ€™ai sÃ©lectionnÃ© et que je vous recommande pour Ã©viter des configurations futures.</p><p>Avec votre ordinateur favori, que ce soit sur MacOS, Windows, Ubuntu, Trisquel ou TempleOS vous pouvez utiliser un outil qui permet de vous connecter Ã  votre Raspberry avec SSH. Le plus simple avec MacOS ou une distribution Linux. Si vous nâ€™avez pas <code>ssh</code> de disponible en commande, veuillez installer <a href="https://www.openssh.com/" target="_blank">OpenSSH</a>. VoilÃ  comment procÃ©der avec votre terminal sachant que mon IP est <code>192.168.1.42</code></p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">Connecter Ã  distance avec SSH</p></div><div class="I"><div class="J"><span class="K">monpc@oumonmac:~ $</span><span class="-C cliboard-action-selector" data-value="gv2w0gwvym_0">ğŸ“‹</span><span id="gv2w0gwvym_0">ssh-keygen -t rsa -b 4096</span><span id="gv2w0gwvym_0_copy-result" class="-D">C&#x27;est copiÃ© !</span><div>&gt; Generating public/private rsa key pair.</div><div>&gt; Enter a file in which to save the key (/home/you/.ssh/id_rsa): [Press enter] <i>Laissez par dÃ©faut</i></div><div>&gt; Enter passphrase (empty for no passphrase): [Type a passphrase] <i>Votre mot de passe</i></div><div>&gt; Enter same passphrase again: [Type passphrase again] <i>Confirmez votre mot de passe</i></div></div><div class="J"><span class="K">monpc@oumonmac:~ $</span><span class="-C cliboard-action-selector" data-value="gv2w0gwvym_1">ğŸ“‹</span><span id="gv2w0gwvym_1">ssh pi@192.168.1.42</span><span id="gv2w0gwvym_1_copy-result" class="-D">C&#x27;est copiÃ© !</span><div>pi@192.168.1.42's password: <i>Entrez votre mot de passe </i></div><div>Linux raspberrypi 4.14.71-v7+ #1145 SMP Fri Sep 21 15:38:35 BST 2018 armv7l</div><div></div><div>The programs included with the Debian GNU/Linux system are free software;</div><div>the exact distribution terms for each program are described in the</div><div>individual files in /usr/share/doc/* /copyright.</div><div></div><div>Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent</div><div>permitted by applicable law.</div><div>Last login: Tue Mar 19 02:04:32 2019 from 192.168.1.44</div></div><div class="J"><span class="K">pi@raspberrypi:~ &amp;</span><span id="gv2w0gwvym_2"></span><span id="gv2w0gwvym_2_copy-result" class="-D">C&#x27;est copiÃ© !</span></div></div></div><p>Cette Ã©tape permet dâ€™avoir une clÃ© RSA pour initialiser une communication chiffrÃ©e avec votre Raspberry et de connecter ensuite.</p><p>Il existe des solutions avec interface comme <a href="https://www.putty.org/" target="_blank">PuTTY</a> pour Windows. Vous devrez entrer lâ€™adresse IP de votre Raspberry, le login <code>pi</code> et le mot de passe <code>raspberry</code>.</p><h3 id="cr%C3%A9er-un-utilisateur" class="T"><a href="#cr%C3%A9er-un-utilisateur" class="c">Â§</a>CrÃ©er un utilisateur</h3><p>Afin de protÃ©ger votre installation du mieux que possible je recommande de crÃ©er un utilisateur prÃ©vu Ã  cet usage. Nous lâ€™appellerons â€œbitcoinâ€.</p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">CrÃ©er l&#x27;utilisateur bitcoin</p></div><div class="I"><div class="J"><span class="K">pi@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="gb095xpxnd_0">ğŸ“‹</span><span id="gb095xpxnd_0">adduser bitcoin</span><span id="gb095xpxnd_0_copy-result" class="-D">C&#x27;est copiÃ© !</span><div>Adding user `bitcoin' ...</div><div>Adding new group `bitcoin' (1001) ...</div><div>Adding new user `bitcoin' (1001) with group `bitcoin' ...</div><div>Creating home directory `/home/bitcoin' ...</div><div>Copying files from `/etc/skel' ...</div><div>Enter new UNIX password: <i>Mettez un mot de passe fort</i></div><div>Retype new UNIX password: <i>Confirmez votre mot de passe</i></div><div>passwd: password updated successfully</div><div>Changing the user information for bitcoin</div><div>Enter the new value, or press ENTER for the default</div><div>&nbsp;&nbsp;Full Name []: <i>Vous pouvez laisser tous ces champs vides</i></div><div>&nbsp;&nbsp;Room Number []:</div><div>&nbsp;&nbsp;Work Phone []:</div><div>&nbsp;&nbsp;Home Phone []:</div><div>&nbsp;&nbsp;Other []:</div><div>Is the information correct? [Y/n] Y</div></div><div class="J"><span class="K">pi@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="gb095xpxnd_1">ğŸ“‹</span><span id="gb095xpxnd_1">su bitcoin</span><span id="gb095xpxnd_1_copy-result" class="-D">C&#x27;est copiÃ© !</span><div>password:</div></div><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="gb095xpxnd_2">ğŸ“‹</span><span id="gb095xpxnd_2"></span><span id="gb095xpxnd_2_copy-result" class="-D">C&#x27;est copiÃ© !</span></div></div></div><blockquote><p>Vous pouvez dÃ©sormais vous connecter directement Ã  lâ€™utilisateur â€œbitcoinâ€ avec SSH en tapant par exemple <code>ssh bitcoin@192.168.1.42</code></p></blockquote><h2 id="pr%C3%A9parer-le-disque-dur" class="T"><a href="#pr%C3%A9parer-le-disque-dur" class="c">Â§</a>PrÃ©parer le disque dur</h2><p>Vous aurez besoin de tÃ©lÃ©charger lâ€™entiÃ¨retÃ© de la blockchain Bitcoin qui fait <a href="https://bitinfocharts.com/bitcoin/" class="-F" target="_blank">250go</a> Ã  lâ€™heure oÃ¹ jâ€™Ã©cris ces lignes. Cela signifie que la petite carte SD du Raspberry ne peut pas mÃ©moriser tout Ã§a.    On va faire en sorte que toutes les informations relatives Ã  la blockchain rÃ©sident dans le disque externe.</p><p>Une fois que vous avez branchÃ© votre disque dur sur votre Raspberry, vous devriez le retrouver en tapant la commande <code>df -h</code>. Cette commande va vous lister quelque chose qui ressemble Ã  ce qui suit :</p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">Trouver le disque dur</p></div><div class="I"><div class="J"><span class="K">pi@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="grfvmh0qhq_0">ğŸ“‹</span><span id="grfvmh0qhq_0">df -h</span><span id="grfvmh0qhq_0_copy-result" class="-D">C&#x27;est copiÃ© !</span><div>/dev/root        15G  4.2G  9.8G  30%</div><div>devtmpfs        460M     0  460M   0% /dev</div><div>tmpfs           464M     0  464M   0% /dev/shm</div><div>tmpfs           464M  6.2M  458M   2% /run</div><div>tmpfs           5.0M  4.0K  5.0M   1% /run/lock</div><div>tmpfs           464M     0  464M   0% /sys/fs/cgroup</div><div>/dev/mmcblk0p1   44M   22M   22M  51% /boot</div><div><span class="L">/dev/sda        458G  249G  186G  58% /home/bitcoin/.bitcoin</span></div><div>tmpfs            93M     0   93M   0% /run/user/1001</div></div></div></div><p>Vous devrez trouver un Ã©lÃ©ment ayant la mÃªme capacitÃ© de stockage que votre disque. Mon disque fait 500go et on le trouve sur le chemin <code>/dev/sda</code>. En gÃ©nÃ©ral on le devine dans la mesure oÃ¹ câ€™est le seul disque ayant cette capacitÃ©. Notez ce nom quelque part, et retenez cette commande <code>df</code> qui est pratique pour gÃ©rer ses disques.</p><h3 id="formater-optionnel" class="T"><a href="#formater-optionnel" class="c">Â§</a>Formater (optionnel)</h3><p>Votre disque dur doit maintenant Ãªtre vierge (Ã  moins que vous y avez enregistrÃ© la blockchain, dans ce cas ignorez cette Ã©tape). Tapez la commande <code>fdisk [votre disque]</code> oÃ¹ [votre disque] devient le nom de votre disque, dans mon exemple câ€™est <code>fdisk /dev/sda</code>.</p><h3 id="monter-le-disque" class="T"><a href="#monter-le-disque" class="c">Â§</a>Monter le disque</h3><p>Enfin il faut monter le disque sur le dossier de travail de Bitcoin, on va lui prÃ©parer sa maison et son nid douillet. Monter un disque signifie que nous allons associer un rÃ©pertoire Ã  un disque, octroyant une capacitÃ© de mÃ©moire certaine Ã  un rÃ©pertoire. Et pour ce faire connectez vous Ã  lâ€™utilisateur que nous avions prÃ©cÃ©demment crÃ©Ã© <code>su bitcoin</code>, puis tapez <code>mkdir .bitcoin .lnd</code>.</p><p>Il ne vous reste plus quâ€™Ã  taper <code>mount &lt;votre disque&gt; .bitcoin</code> oÃ¹ votre disque est le chemin trouvÃ© avec <code>df</code>.</p><blockquote><p>mkdir signifie make directory, câ€™est pour crÃ©er un dossier et .bitcoin est le nom du dossier. Par dÃ©faut nous travaillerons avec ce dossier pour la blockchain et les portefeuilles. Le â€.â€ est un moyen de cacher le dossier, cependant en aucun cas cela constitue sÃ©curitÃ© suffisante.</p></blockquote><h2 id="installer-bitcoind-et-bitcoincli" class="T"><a href="#installer-bitcoind-et-bitcoincli" class="c">Â§</a>Installer bitcoind et bitcoin-cli</h2><p><em>Pour cette partie restez connectÃ© Ã  lâ€™utilisateur <code>bitcoin</code> en tapant <code>su bitcoin</code>.</em></p><p><code>bitcoind</code> est le systÃ¨me central de Bitcoin, le â€œdâ€ Ã  la fin signifie â€œdaemonâ€ qui dÃ©signe un service exÃ©cutÃ© et maintenu par la machine. <code>bitcoin-cli</code> est une interface de commande qui permet dâ€™interagir avec le service Bitcoin. Les deux sâ€™installent ensemble, ce qui est super !</p><p>Dâ€™abord vous devrez chercher les fichiers dâ€™installation de Bitcoin, je vous le donne ici : <a href="https://bitcoin.org/bin/bitcoin-core-0.19.0.1/bitcoin-0.19.0.1-arm-linux-gnueabihf.tar.gz" class="-F" target="_blank">bitcoin-0.19.0.1-arm-linux-gnueabihf.tar.gz</a>. Gardez ce lien vous en aurez besoin.</p><p>Je tiens Ã  souligner que vous pouvez le chercher par vous mÃªme en vous rendant <a href="https://bitcoincore.org/en/download/" class="-F" target="_blank">ici</a> et en sÃ©lectionnant â€œARM Linux 64bitsâ€. Je vous conseille de le faire vous mÃªme car les versions sont mises Ã  jour, ci-dessus vous avez la version 0.19.0.1 de Bitcoin Core.</p><p>Suivez les commandes ci-dessous pour installer <code>bitcoind</code></p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">Installer bitcoind et bitcoin-cli</p></div><div class="I"><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="g0bo15zzn7_0">ğŸ“‹</span><span id="g0bo15zzn7_0">wget https://bitcoin.org/bin/bitcoin-core-0.19.0.1/bitcoin-0.19.0.1-arm-linux-gnueabihf.tar.gz</span><span id="g0bo15zzn7_0_copy-result" class="-D">C&#x27;est copiÃ© !</span></div><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="g0bo15zzn7_1">ğŸ“‹</span><span id="g0bo15zzn7_1">tar -vxf bitcoin-0.19.0.1-arm-linux-gnueabihf.tar.gz</span><span id="g0bo15zzn7_1_copy-result" class="-D">C&#x27;est copiÃ© !</span><div><i>Extraire les donnÃ©es de l&#x27;archive</i></div></div><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="g0bo15zzn7_2">ğŸ“‹</span><span id="g0bo15zzn7_2">sudo install -m 0755 -o bitcoin -g bitcoin -t /usr/local/bin bitcoin-0.19.0.1/bin/*</span><span id="g0bo15zzn7_2_copy-result" class="-D">C&#x27;est copiÃ© !</span></div><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="g0bo15zzn7_3">ğŸ“‹</span><span id="g0bo15zzn7_3">rm -rf bitcoin-0.19.0.1</span><span id="g0bo15zzn7_3_copy-result" class="-D">C&#x27;est copiÃ© !</span></div></div></div><p>Notez quâ€™on donne les droits uniquement Ã  lâ€™utilisateur <code>bitcoin</code>. DÃ©sormais tapez les commandes <code>bitcoind -version</code> et <code>bitcoin-cli -version</code>. Si tout est bien installÃ© vous verrez les versions sâ€™afficher.</p><h2 id="d%C3%A9marrer-bitcoind" class="T"><a href="#d%C3%A9marrer-bitcoind" class="c">Â§</a>DÃ©marrer bitcoind</h2><p><code>bitcoind</code> est installÃ©, il reste plus quâ€™Ã  le dÃ©marrer pour quâ€™il puisse tÃ©lÃ©charger frÃ©nÃ©tiquement la blockchain en se connectant Ã  des nÅ“uds du rÃ©seau; automatiquement.</p><p>Dâ€™abord je vous recommande de vÃ©rifier si vous avez bien connectÃ© votre disque dur, suivez lâ€™exemple ci-dessous</p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">VÃ©rifier le montage du disque</p></div><div class="I"><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="giir29fse4_0">ğŸ“‹</span><span id="giir29fse4_0">lsblk</span><span id="giir29fse4_0_copy-result" class="-D">C&#x27;est copiÃ© !</span><div>NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT</div><div><span class="L">sda           8:0    0 465.8G  0 disk /home/bitcoin/.bitcoin</span></div><div>mmcblk0     179:0    0  14.9G  0 disk</div><div>&nbsp;|-mmcblk0p1 179:1    0  43.8M  0 part /boot</div><div>&nbsp;&nbsp;-mmcblk0p2 179:2    0  14.8G  0 part /</div></div></div></div><p>On peut voir en surlignÃ© que <code>/home/bitcoin/.bitcoin</code> est bien connectÃ© au disque ayant 465.8Go dâ€™espace. Si vous nâ€™avez pas cela, revenez sur la partie <a href="#monter-le-disque">Monter le disque</a>.</p><p>Maintenant on peut Ã©crire le fichier de configuration Bitcoin. Tapez <code>nano .bitcoin/bitcoin.conf</code>, cela va vous ouvrir un Ã©diteur directement dans le terminal, ce qui vous permet dâ€™Ã©crire les configurations. VoilÃ  des configurations que je recommande :</p><pre><code>server=1
daemon=1
txindex=1

rpcuser=&lt;Mettez un nom d&#x27;utilisateur&gt;
rpcpassword=&lt;Mettez un mot de passe&gt;

onlynet=ipv4
zmqpubrawblock=tcp://127.0.0.1:28332
zmqpubrawtx=tcp://127.0.0.1:28333

dbcache=50
maxorphantx=10
maxmempool=50
maxconnections=40
maxuploadtarget=1000
</code></pre><p>Pour sauvegarder tapez CTRL + O et CTRL + X pour quitter.</p><p>Et enfin tapez <code>sudo bitcoind</code> qui aura pour effet de lancer le service Bitcoin qui va rapidement commencer Ã  tÃ©lÃ©charger la blockchain. Pour rappel cette derniÃ¨re fait prÃ¨s de 200Go donc vous pouvez prendre une pause ici.</p><p>Pour observer lâ€™avancement tapez la commande <code>tail -f .bitcoin/debug.log</code> vous verrez des entrÃ©es qui ressemblent Ã  ce qui suit</p><pre><code>2019-04-15T22:54:29Z UpdateTip: new best=00000000000000000024f0048c611086130b387e6634d8e2617c261a0c44b6dd height=571800 version=0x20c00000 log2_work=90.545983 tx=402724776 date=&#x27;2019-04-15T22:54:19Z&#x27; progress=1.000000 cache=14.5MiB(103309txo) warning=&#x27;35 of last 100 blocks have unexpected version&#x27;
</code></pre><p>Lâ€™information intÃ©ressante ici est particuliÃ¨rement <code>progress=1.000000</code>. Cette valeur est en rÃ©alitÃ© la progression de la synchronisation de la blockchain, 1 signifie 100%, si vous avez par exemple <code>progress=0.014</code> alors vous en Ãªtes Ã  1.4%. Pour quitter le <code>tail</code> tapez CTRL + C.</p><h2 id="installer-lnd-et-lncli" class="T"><a href="#installer-lnd-et-lncli" class="c">Â§</a>Installer LND et LnCLI</h2><p><em>Pour cette partie restez connectÃ© Ã  lâ€™utilisateur <code>bitcoin</code> en tapant <code>su bitcoin</code>.</em></p><p><code>lnd</code> est le service qui va transformer le RaspberryPi en un nÅ“ud Lightning Network. Il va se connecter automatiquement a lâ€™interface de commande du service <code>bitcoind</code>. Tout comme <code>bitcoind</code> LND embarque lâ€™interface de commande <code>lncli</code>.</p><p>La procÃ©dure pour installer LND ressemble Ã  lâ€™installation de Bitcoin. La premiÃ¨re chose Ã  faire est de tÃ©lÃ©charger le service en vous rendant sur ce lien <a href="https://github.com/lightningnetwork/lnd/releases" class="-F" target="_blank">github.com/lightningnetwork/lnd/releases</a>. Ici vous trouverez toutes les versions officielles de LND. RÃ©cupÃ©rez maintenant le lien de la derniÃ¨re version â€œlinux-armv7â€, voici celle que jâ€™ai Ã  lâ€™heure oÃ¹ jâ€™Ã©cris cet article <a href="https://github.com/lightningnetwork/lnd/releases/download/v0.8.2-beta/lnd-linux-armv7-v0.8.2-beta.tar.gz" class="-F" target="_blank">lnd-linux-armv7-v0.8.2-beta.tar.gz</a>.</p><p>Notez bien que mon exemple sâ€™applique pour la version que jâ€™ai envoyÃ©e : v0.8.2beta.</p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">Installer lnd et lncli</p></div><div class="I"><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="gxc0v6zwej_0">ğŸ“‹</span><span id="gxc0v6zwej_0">wget https://github.com/lightningnetwork/lnd/releases/download/v0.8.2-beta/lnd-linux-armv7-v0.8.2-beta.tar.gz</span><span id="gxc0v6zwej_0_copy-result" class="-D">C&#x27;est copiÃ© !</span></div><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="gxc0v6zwej_1">ğŸ“‹</span><span id="gxc0v6zwej_1">tar -vxf lnd-linux-armv7-v0.8.2-beta.tar.gz &lt;i&gt;Extraire les donnÃ©es de l&#x27;archive&lt;/i&gt;</span><span id="gxc0v6zwej_1_copy-result" class="-D">C&#x27;est copiÃ© !</span></div><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="gxc0v6zwej_2">ğŸ“‹</span><span id="gxc0v6zwej_2">sudo install -m 0755 -o bitcoin -g bitcoin -t /user/local/bin lnd-linux-armv7-v0.8.2-beta/*</span><span id="gxc0v6zwej_2_copy-result" class="-D">C&#x27;est copiÃ© !</span></div><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="gxc0v6zwej_3">ğŸ“‹</span><span id="gxc0v6zwej_3">rm -rf lnd-linux-armv7-v0.8.2-beta</span><span id="gxc0v6zwej_3_copy-result" class="-D">C&#x27;est copiÃ© !</span></div></div></div><p>DÃ©sormais tapez la commande <code>lnd -version</code>. Si tout est bien installÃ© vous verrez la version sâ€™afficher.</p><p>Avant de dÃ©marrer LND crÃ©ez son fichier de configuration en tapant <code>nano .lnd/lnd.conf</code>. Trouvez ci-dessous une configuration que je propose, vous pouvez Ã©videmment mettre ce que vous voulez pour certaines options.</p><pre><code>[Application Options]
debuglevel=info
maxpendingchannels=3
alias=&lt;Votre Alias / pseudonyme / nom / ...&gt;
color=&lt;Une couleur en hexadÃ©cimal, par exemple #F00 pour Rouge vif&gt;

nat=true # Si vous vous connectez depuis une box Internet

[Bitcoin]
bitcoin.active=1

bitcoin.mainnet=1
bitcoin.node=bitcoind

[bitcoind]
bitcoind.rpcuser=&lt;Ce que vous aviez mis dans .bitcoin/bitcoin.conf rpcuser=&gt;
bitcoind.rpcpass=&lt;Ce que vous aviez mis dans .bitcoin/bitcoin.conf rpcpassword=&gt;
bitcoind.zmqpubrawblock=tcp://127.0.0.1:28332
bitcoind.zmqpubrawtx=tcp://127.0.0.1:28333

[autopilot]
autopilot.active=1
autopilot.maxchannels=3
autopilot.allocation=0.5
</code></pre><blockquote><p>â€œautopilotâ€ vous intrigue peut-Ãªtre. Câ€™est un algorithme qui connecte automatiquement des nÅ“uds prÃ©sents dans le rÃ©seau dÃ©centralisÃ©, typiquement des nÅ“uds Bitcoin et Lightning Network. Autopilot intÃ¨gre le modÃ¨le <a href="https://en.wikipedia.org/wiki/Barab%C3%A1si%E2%80%93Albert_model" class="-F" target="_blank">BarabÃ¡siâ€“Albert</a> dans lâ€™idÃ©e de produire un rÃ©seau pair-Ã -pair en thÃ©orie homogÃ¨ne. Personnellement je lâ€™active mais en aucun cas cela est nÃ©cessaire.</p></blockquote><h2 id="d%C3%A9marrer-lnd" class="T"><a href="#d%C3%A9marrer-lnd" class="c">Â§</a>DÃ©marrer LND</h2><p>Tapez simplement <code>lnd</code> et voilÃ  ! Votre nÅ“ud LN est en route. Il va dâ€™abord synchroniser sa blockchain locale avec bitcoind. En attendant vous allez crÃ©er votre portefeuille. En effet LND ne va pas exploiter le portefeuille de bitcoind mais gÃ©rer le sien, cela veut dire que vous aurez un portefeuille relatif Ã  votre nÅ“ud LN.</p><p>Laissez <code>lnd</code> tourner, ne quittez pas en faisant CTRL + C, je vous suggÃ¨re dâ€™ouvrir un nouveau terminal et vous connecter Ã  nouveau sur <code>bitcoin</code>. Quitter votre terminal ne stoppera pas LND.</p><p>Une fois de retour suivez cette procÃ©dure ci-dessous :</p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">CrÃ©er un portefeuille avec lncli</p></div><div class="I"><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="gvgx15mpl3_0">ğŸ“‹</span><span id="gvgx15mpl3_0">lncli create</span><span id="gvgx15mpl3_0_copy-result" class="-D">C&#x27;est copiÃ© !</span><div>Input wallet password : <i>Mettez un mot de passe fort et Ã©crivez le sur une feuille pour ne pas le perdre</i></div><div>Confirm wallet password: <i>Confirmez votre mot de passe</i></div><div></div><div>Do you have an existing cipher seed mnemonic you want to user? (Enter y/n): n</div><div></div><div>Your cipher seed can optionally be encrypted.</div><div>Input your passphrase if you wish to encrypt it (or press enter to proceed without a cipher seed passphrase): <i>Mettez un mot de passe ou pressez directement ENTREE</i></div><div></div><div>Generating fresh cipher seed...</div><div></div><div>!!!YOU MUST WRITE DOWN THIS SEED TO BE ABLE TO RESTORE THE WALLET!!!</div><div></div><div><i>Ici lncli affiche votre seed, notez la consciencieusement sur une feuille, dans l'ordre. Cette seed (graine) est la clÃ© de votre portefeuille; elle vous assurera de ne jamais perdre vos fonds</i></div><div></div><div>!!!YOU MUST WRITE DOWN THIS SEED TO BE ABLE TO RESTORE THE WALLET!!!</div><div></div><div>lnd successfully initialized!</div></div></div></div><p>TADAM ! Vous avez maintenant un tout nouveau portefeuille et LND sera capable de fonctionnerâ€¦ AprÃ¨s avoir tapÃ© ces commandes</p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">GÃ©nÃ©rer une adresse</p></div><div class="I"><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="g70clgwe6o_0">ğŸ“‹</span><span id="g70clgwe6o_0">lncli unlock</span><span id="g70clgwe6o_0_copy-result" class="-D">C&#x27;est copiÃ© !</span></div><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="g70clgwe6o_1">ğŸ“‹</span><span id="g70clgwe6o_1">lncli newaddress p2wkh</span><span id="g70clgwe6o_1_copy-result" class="-D">C&#x27;est copiÃ© !</span></div></div></div><blockquote><p>â€œlncli unlockâ€ est important pour que LND puisse fonctionner car il aura besoin dâ€™un accÃ¨s Ã  votre portefeuille, ce dernier est chiffrÃ© par dÃ©faut et il faut le dÃ©chiffrer en le dÃ©verrouillant. Le mot de passe Ã  insÃ©rer est le premier mot de passe que vous avez mis lors de la crÃ©ation du portefeuille avec <code>lncli create</code></p></blockquote><p>LND est maintenant prÃªt Ã  fonctionner. Pour observer ce quâ€™il se passe tapez la commande <code>tail -f .lnd/debug.log</code>.</p><p>Pour vÃ©rifier que votre nÅ“ud est bien recensÃ© sur les internets allez chercher votre clÃ© publique en tapant <code>lncli getinfo</code> comme dans le terminal ci-dessous</p><div class="B"><div class="F"><div class="G"><div class="C -E"></div><div class="C D"></div><div class="C E"></div></div><p class="H">Trouver les informations du nÅ“ud</p></div><div class="I"><div class="J"><span class="K">bitcoin@raspberrypi:~ $</span><span class="-C cliboard-action-selector" data-value="gfalxjk5nb_0">ğŸ“‹</span><span id="gfalxjk5nb_0">lncli getinfo</span><span id="gfalxjk5nb_0_copy-result" class="-D">C&#x27;est copiÃ© !</span><div>{</div><div>&amp;nbsp;&quot;identity_pubkey&quot;: &quot;<span class="L">03a2c34daf010b3501daf704b5a321e82e1631421b7ffa18dd49014967eda82dc9</span>&quot;,</div><div>&nbsp;"alias": "Blocs",</div><div>&nbsp;"num_pending_channels": 0,</div><div>&nbsp;"num_active_channels": 3,</div><div>&nbsp;"num_peers": 4,</div><div>&nbsp;"block_height": 572660,</div><div>&nbsp;"block_hash": "0000000000000000001d7bf15a13ffb76a8c1256e5ab778ffcc918d97944e45a",</div><div>&nbsp;"synced_to_chain": true,</div><div>&nbsp;"testnet": false,</div><div>&nbsp;"chains": [</div><div>&nbsp;&nbsp;"bitcoin"</div><div>&nbsp;],</div><div>&nbsp;"uris": [</div><div>&nbsp;&nbsp;"03a2c34daf010b3501daf704b5a321e82e1631421b7ffa18dd49014967eda82dc9@109.18.104.32:9735"</div><div>&nbsp;],</div><div>&nbsp;"best_header_timestamp": "1555878831",</div><div>&nbsp;"version": "0.5.2-beta commit=v0.5.2-beta",</div><div>&nbsp;"num_inactive_channels": 0</div><div>}</div></div></div></div><p>Ma clÃ© publique est <code>03a2c34daf010b3501daf704b5a321e82e1631421b7ffa18dd49014967eda82dc9</code>, elle sert dâ€™identifiant au nÅ“ud. Maintenant si votre nÅ“ud est bien configurÃ© et en route, vous pouvez le trouver sur ce site : <a href="https://1ml.com" class="-F" target="_blank">1ml.com</a> en tapant dans la recherche la clÃ© publique de votre nÅ“ud.</p><hr/><p>Vous Ãªtes maintenant propriÃ©taire dâ€™un nÅ“ud Bitcoin et dâ€™un nÅ“ud Lightning Network. Cela signifie que vous avez la capacitÃ© dâ€™utiliser nâ€™importe quel portefeuille supportant LN en passant par votre propre serveur. FÃ©licitations et bienvenue dans la communautÃ© de lâ€™aâ€¦ Bitcoin et LN. Dans un article suivant on va voir comment avoir une interface graphique pour gÃ©rer son nÅ“ud sans passer par les lignes de commande comme nous lâ€™avons fait tout au long de lâ€™installation. Pour lâ€™heure vous pouvez dÃ©couvrir les possibilitÃ©s de LN en tapant <code>lncli --help</code> et les possibilitÃ©s de Bitcoin en tapant <code>bitcoin-cli --help</code>.</p><span class="v">ModifiÃ© le  <time dateTime="2019-12-31T00:00:00.000Z">mardi 31 dÃ©cembre 2019</time></span><section class="U"><p><i>Cet article est sous license <a href="https://creativecommons.org/licenses/?lang=fr-FR" target="_blank">Creative Commons BY-NC-SA</a>. Il est ouvert Ã  contribution en vous rendant sur ce lien : <a href="https://github.com/Chaine-de-Blocs/blocs.fr/blob/master/posts/2019-12-31-installer-un-noeud-lightning-network.mdx" target="_blank">Installer un nÅ“ud Lightning Network</a></i></p></section><script type="text/javascript" data-isso="https://isso.blocs.fr/" src="//isso.blocs.fr/js/embed.min.js" data-isso-css="true" data-isso-lang="fr" data-isso-reply-notifications="true" async=""></script><div class="R"><h2>Commentaires</h2><p><i>(Le format <a href="https://www.christopheducamp.com/2014/09/18/love-markdown/" target="_blank">Markdown</a> est acceptÃ©)</i></p><section id="isso-thread"></section></div></body></html>